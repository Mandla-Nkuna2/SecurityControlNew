<ion-header>
  <ion-toolbar  mode="ios">

    <ion-buttons slot="start">
      <ion-button (click)="exit()">Exit <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Equipment Inventory</ion-title>

  </ion-toolbar>
</ion-header>

<ion-content>
  <section class="common-img-bg">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="login-card card-block auth-body mr-auto ml-auto">
            <div class="md-float-material">
              <div class="auth-box">

                <ion-item>
                  <ion-label position="floating">Date</ion-label>
                  <ion-input [(ngModel)]='equipment.date' [readonly]="true"></ion-input>
                </ion-item>


                <ion-item>
                  <ion-label position="floating">Manager/ Supervisor</ion-label>
                  <ion-input [readonly]="true" [(ngModel)]="equipment.supervisorName"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf="siteValue" position="floating">Site Name </ion-label>
                  <ion-label *ngIf="!siteValue" position="floating" style="color:red !important">Site Name</ion-label>
                  <ion-select interface="popover" *ngIf="!view && !saved" (click)="searchSites(equipment)"
                    (ionChange)="getSiteDetails(equipment)" [(ngModel)]="equipment.siteKey">
                    <ion-select-option *ngFor="let site of sites | async" [value]=site.key>{{site.name}}
                    </ion-select-option>
                  </ion-select>
                  <ion-input *ngIf="view" [readonly]="true" [(ngModel)]="equipment.siteName"></ion-input>
                  <ion-input *ngIf="saved" [readonly]="true" [(ngModel)]="equipment.siteName"></ion-input>
                </ion-item>

                <h4 style="margin-left: 17px;     color: red;">Base Radio</h4>
                <ion-item>
                  <ion-label *ngIf='bmakeV' position="floating">Make</ion-label>
                  <ion-label *ngIf='!bmakeV' style="color:red !important" position="floating">Make</ion-label>
                  <ion-input [(ngModel)]='equipment.baseRadio.make'></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='bmodelV' position="floating">Model</ion-label>
                  <ion-label *ngIf='!bmodelV' style="color:red !important" position="floating">Model</ion-label>
                  <ion-input [(ngModel)]='equipment.baseRadio.model'></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='bserialV' position="floating">Serial Number</ion-label>
                  <ion-label *ngIf='!bserialV' style="color:red !important" position="floating">Serial Number
                  </ion-label>

                  <ion-input [(ngModel)]='equipment.baseRadio.serial'></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='borderV' position="floating">Working Order Tested with control? </ion-label>
                  <ion-label *ngIf='!borderV' position="floating" style="color:red !important">Working Order Tested with
                    control?
                  </ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.baseRadio.controlWork'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='bmicV' position="floating">Mic Working</ion-label>
                  <ion-label *ngIf='!bmicV' position="floating" style="color:red !important">Mic Working</ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.baseRadio.micWork'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>

                <div *ngFor='let radio of equipment.handRadio'>
                  <h4 style="margin-left: 17px;     color: rgb(53, 39, 39);">Handheld Radio</h4>

                  <ion-item>
                    <ion-label position="floating">Make</ion-label>

                    <ion-input [(ngModel)]="radio.make"></ion-input>
                  </ion-item>

                  <ion-item>
                    <ion-label position="floating">Model</ion-label>
                    <ion-input [(ngModel)]="radio.model"></ion-input>
                  </ion-item>

                  <ion-item>
                    <ion-label position="floating">Serial Number</ion-label>
                    <ion-input [(ngModel)]="radio.serial"></ion-input>
                  </ion-item>

                  <ion-item>
                    <ion-label position="floating">Working Order Tested with control? </ion-label>
                    <ion-select interface="popover" [(ngModel)]="radio.controlWork">
                      <ion-select-option>Yes</ion-select-option>
                      <ion-select-option>No</ion-select-option>
                    </ion-select>
                  </ion-item>

                  <ion-item>
                    <ion-label position="floating">Mic Working</ion-label>
                    <ion-select interface="popover" [(ngModel)]="radio.micWork">
                      <ion-select-option>Yes</ion-select-option>
                      <ion-select-option>No</ion-select-option>
                    </ion-select>
                  </ion-item>

                </div>

                <ion-item>
                  <ion-button (click)='addRadio()'>Add another Base Radio</ion-button>
                </ion-item>

                <h4 style="margin-left: 17px;     color: red;">PANIC BUTTONS</h4>




                <ion-item>
                  <ion-label *ngIf='panicV' position="floating">Total Panic buttons on site </ion-label>
                  <ion-label *ngIf='!panicV' position="floating" style="color:red !important">Total Panic buttons on
                    site </ion-label>
                  <ion-input [(ngModel)]="equipment.panicButtonTotal" type="text"></ion-input>
                </ion-item>



                <ion-item>
                  <ion-label *ngIf='panicWV' position="floating">Total Panic buttons Working</ion-label>
                  <ion-label *ngIf='!panicWV' position="floating" style="color:red !important">Total Panic buttons
                    Working</ion-label>
                  <ion-input [(ngModel)]="equipment.panicButtonWork" type="text"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='panicNV' position="floating">Total Panic buttons NOT Working</ion-label>
                  <ion-label *ngIf='!panicNV' position="floating" style="color:red !important">Total Panic buttons NOT
                    Working
                  </ion-label>
                  <ion-input [(ngModel)]="equipment.panicButtonNot" type="text"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='panicTV' position="floating">Tested & Working with control?</ion-label>
                  <ion-label *ngIf='!panicTV' position="floating" style="color:red !important">Tested & Working with
                    control?</ion-label>
                  <ion-select interface="popover" [(ngModel)]="equipment.panicButtonTest">
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>


                <ion-item>
                  <ion-label *ngIf='panicOBV' position="floating">OB Refer Number/s</ion-label>
                  <ion-label *ngIf='!panicOBV' position="floating" style="color:red !important">OB Refer Number/s
                  </ion-label>
                  <ion-textarea type="text" autocomplete="true" spellcheck="true" [(ngModel)]="equipment.panicButtonOB"
                    autosize>
                  </ion-textarea>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='panicGV' position="floating">Was panic found in position of guards during
                    inspection</ion-label>
                  <ion-label *ngIf='!panicGV' position="floating" style="color:red !important">Was panic found in
                    position of guards
                    during inspection</ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.panicInPosition'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='panicRV' position="floating">REMARKS</ion-label>
                  <ion-label *ngIf='!panicRV' position="floating" style="color:red !important">REMARKS</ion-label>
                  <ion-textarea type="text" autocomplete="true" spellcheck="true"
                    [(ngModel)]="equipment.panicInPositionRemark" autosize>
                  </ion-textarea>
                </ion-item>

                <h4 style="margin-left: 17px;     color: red;">Cell PHONE</h4>

                <ion-item>
                  <ion-label *ngIf='phoneMV' position="floating">Make/Model</ion-label>
                  <ion-label *ngIf='!phoneMV' position="floating" style="color:red !important">Make/Model</ion-label>
                  <ion-input type="text" [(ngModel)]="equipment.phoneModel" autosize>
                  </ion-input>
                </ion-item>



                <ion-item>
                  <ion-label *ngIf='phoneWV' position="floating">Phone Working</ion-label>
                  <ion-label *ngIf='!phoneWV' position="floating" style="color:red !important">Phone Working</ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.phoneWork'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='chargeV' position="floating">Charger Working</ion-label>
                  <ion-label *ngIf='!chargeV' position="floating" style="color:red !important">Charger Working
                  </ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.phoneCharge'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='airtimeV' position="floating">Airtime & Data available?</ion-label>
                  <ion-label *ngIf='!airtimeV' position="floating" style="color:red !important">Airtime & Data
                    available?</ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.airtime'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='airtimeAV' position="floating">Amount available</ion-label>
                  <ion-label *ngIf='!airtimeAV' position="floating" style="color:red !important">Amount available
                  </ion-label>
                  <ion-input [(ngModel)]="equipment.airtimeAmount" type="text"></ion-input>
                </ion-item>


                <h4 style="margin-left: 17px;     color: red;">TORCHES</h4>

                <ion-item>
                  <ion-label *ngIf='torchTV' position="floating">Type of Torches</ion-label>
                  <ion-label *ngIf='!torchTV' position="floating" style="color:red !important">Type of Torches
                  </ion-label>
                  <ion-input [(ngModel)]='equipment.torchType' type="text"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='torchSV' position="floating">Total torches on site</ion-label>
                  <ion-label *ngIf='!torchSV' position="floating" style="color:red !important">Total torches on site
                  </ion-label>
                  <ion-input [(ngModel)]='equipment.torchTotal' type="text"></ion-input>
                </ion-item>


                <ion-item>
                  <ion-label *ngIf='torchWV' position="floating">Total torches Working</ion-label>
                  <ion-label *ngIf='!torchWV' position="floating" style="color:red !important">Total torches Working
                  </ion-label>
                  <ion-input [(ngModel)]='equipment.torchWork' type="text"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='torchNV' position="floating">Total torches NOT Working</ion-label>
                  <ion-label *ngIf='!torchNV' position="floating" style="color:red !important">Total torches NOT Working
                  </ion-label>
                  <ion-input [(ngModel)]='equipment.torchNot' type="text"></ion-input>
                </ion-item>



                <ion-item>
                  <ion-label *ngIf='torchTCV' position="floating">Tested & Confirmed Working?</ion-label>
                  <ion-label *ngIf='!torchTCV' position="floating" style="color:red !important">Tested & Confirmed
                    Working?</ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.torchTest'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>



                <ion-item>
                  <ion-label *ngIf='torchCV' position="floating">Charger/s Available & Working?</ion-label>
                  <ion-label *ngIf='!torchCV' position="floating" style="color:red !important">Charger/s Available &
                    Working?</ion-label>
                  <ion-select interface="popover" [(ngModel)]='equipment.torchCharger'>
                    <ion-select-option>Yes</ion-select-option>
                    <ion-select-option>No</ion-select-option>
                  </ion-select>
                </ion-item>

                <h4 style="margin-left: 17px;     color: red;">Other</h4>

                <ion-item>
                  <ion-label *ngIf='pepperV' position="floating">Pepper spray</ion-label>
                  <ion-label *ngIf='!pepperV' position="floating" style="color:red !important">Pepper spray</ion-label>
                  <ion-input [(ngModel)]="equipment.pepperSpray" type="text"></ion-input>
                </ion-item>


                <ion-item>
                  <ion-label *ngIf='handV' position="floating">Hand cuffs &amp; Keys</ion-label>
                  <ion-label *ngIf='!handV' position="floating" style="color:red !important">Hand cuffs &amp; Keys
                  </ion-label>
                  <ion-input [(ngModel)]="equipment.handCuff" type="text"></ion-input>
                </ion-item>


                <ion-item>
                  <ion-label *ngIf='batonV' position="floating">Baton Sticks</ion-label>
                  <ion-label *ngIf='!batonV' position="floating" style="color:red !important">Baton Sticks</ion-label>
                  <ion-input [(ngModel)]="equipment.baton" type="text"></ion-input>
                </ion-item>


                <ion-item>
                  <ion-label *ngIf='umbrellaV' position="floating">Umbrellas</ion-label>
                  <ion-label *ngIf='!umbrellaV' position="floating" style="color:red !important">Umbrellas</ion-label>
                  <ion-input [(ngModel)]="equipment.umbrella" type="text"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label *ngIf='gremark' position="floating"> General Remarks</ion-label>
                  <ion-label *ngIf='!gremark' position="floating" style="color:red !important"> General Remarks
                  </ion-label>
                  <ion-textarea type="text" autocomplete="true" spellcheck="true" [(ngModel)]="equipment.generalRemark"
                    autosize>
                  </ion-textarea>
                </ion-item>
                <img [src]="equipment.supervisorSign" style="display: block; margin-left: auto; margin-right: auto;"
                  alt="">

                <ion-item lines="none">
                  <ion-button style="margin-left: auto; margin-right: auto;" (click)='openPOP("supervisorSign")'>Add
                    Manager Signature
                  </ion-button>
                </ion-item>


                <ion-row>
                  <ion-col class="ion-text-center">
                    <ion-item>
                      <ion-label *ngIf='supsign' class="ion-text-center">Manager/ Supervisor Signature</ion-label>
                      <ion-label *ngIf='!supsign' class="ion-text-center" style="color:red !important">Manager/
                        Supervisor Signature
                      </ion-label>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</ion-content>

<ion-footer>
  <ion-row>
    <ion-col class="ion-text-center">
      <ion-button style="--background: green;" (click)="check()">
        Submit
      </ion-button>
    </ion-col>
  </ion-row>
</ion-footer>