<ion-header>
  <ion-toolbar color="primary" mode="ios">
    <ion-buttons slot="start">
      <ion-button (click)="exit()">Exit <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Fence Inspection</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <section class="common-img-bg">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="login-card card-block auth-body mr-auto ml-auto">
            <div class="md-float-material">
              <div class="auth-box">

                <ion-item>
                  <ion-label position="floating">Date</ion-label>
                  <ion-input [(ngModel)]="appeal.date" [readonly]="true"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating">Time</ion-label>
                  <ion-input [(ngModel)]="appeal.time" [readonly]="true"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf='by'>Inspection By</ion-label>
                  <ion-label position="floating" *ngIf="!by" style="color:red !important">Inspection By
                  </ion-label>
                  <ion-input [(ngModel)]="appeal.by"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="book">Occurrence Book Number</ion-label>
                  <ion-label position="floating" *ngIf="!book" style="color:red !important">Occurrence Book Number
                  </ion-label>
                  <ion-input [(ngModel)]="appeal.book"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="start">Start</ion-label>
                  <ion-label position="floating" *ngIf="!start" style="color:red !important">Start
                  </ion-label>
                  <ion-datetime item-right [(ngModel)]="appeal.start" displayFormat="HH:mm">
                  </ion-datetime>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="finish">Finished</ion-label>
                  <ion-label position="floating" *ngIf="!finish" style="color:red !important"> Finished </ion-label>
                  <ion-datetime item-right [(ngModel)]="appeal.finish" displayFormat="HH:mm">
                  </ion-datetime>
                </ion-item>

                <hr style="  height: 1px;
                background: black;">

                <div *ngFor='let site of appeal.site'>
                  <ion-item>
                    <ion-label position="floating">Zone</ion-label>
                    <ion-input [(ngModel)]="site.site"></ion-input>
                  </ion-item>

                  <ion-item>
                    <ion-label position="floating">Voltege</ion-label>
                    <ion-input [(ngModel)]="site.voltage"></ion-input>
                  </ion-item>

                  <ion-item>
                    <ion-label position="floating">KV</ion-label>
                    <ion-input [(ngModel)]="site.kv"></ion-input>
                  </ion-item>

                  <hr style="  height: 2px;
                  background: orange;">

                </div>

                <ion-button (click)='add()'> Add Zone </ion-button>

                <h3>Observation & Feedback</h3>

                <ion-item>
                  <ion-label position="floating" *ngIf="vegetation">Fence cleared from all vegetation</ion-label>
                  <ion-label position="floating" *ngIf="!vegetation" style="color:red !important"> Fence cleared from
                    all vegetation </ion-label>
                  <ion-input [(ngModel)]="appeal.vegetation"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="bob">Bobbins/ Insulators all in place and spaced correctly
                  </ion-label>
                  <ion-label position="floating" *ngIf="!bob" style="color:red !important"> Bobbins/ Insulators all in
                    place and spaced correctly </ion-label>
                  <ion-input [(ngModel)]="appeal.bob"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="wire">Strands/ wires tensioned correctly</ion-label>
                  <ion-label position="floating" *ngIf="!wire" style="color:red !important"> Strands/ wires tensioned
                    correctly </ion-label>
                  <ion-input [(ngModel)]="appeal.wire"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="brackets">All fence brackets in place</ion-label>
                  <ion-label position="floating" *ngIf="!brackets" style="color:red !important"> All fence brackets in
                    place </ion-label>
                  <ion-input [(ngModel)]="appeal.brackets"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="posts">All fence posts secured properly</ion-label>
                  <ion-label position="floating" *ngIf="!posts" style="color:red !important"> All fence posts secured
                    properly </ion-label>
                  <ion-input [(ngModel)]="appeal.posts"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="strobe">Strobe light working</ion-label>
                  <ion-label position="floating" *ngIf="!strobe" style="color:red !important"> Strobe light working
                  </ion-label>
                  <ion-input [(ngModel)]="appeal.strobe"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="siren">Siren working</ion-label>
                  <ion-label position="floating" *ngIf="!siren" style="color:red !important"> Siren working </ion-label>
                  <ion-input [(ngModel)]="appeal.siren"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="energizer">Energizer box locked</ion-label>
                  <ion-label position="floating" *ngIf="!energizer" style="color:red !important"> Energizer box locked
                  </ion-label>
                  <ion-input [(ngModel)]="appeal.energizer"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="spikes">Three earth spikes around energizer boxes</ion-label>
                  <ion-label position="floating" *ngIf="!spikes" style="color:red !important"> Three earth spikes around
                    energizer boxes </ion-label>
                  <ion-input [(ngModel)]="appeal.spikes"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="thirtymeter">Earth spikes every 30 meters from energizer box
                  </ion-label>
                  <ion-label position="floating" *ngIf="!thirtymeter" style="color:red !important"> Earth spikes every
                    30 meters from energizer box </ion-label>
                  <ion-input [(ngModel)]="appeal.thirtymeter"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="danger">Condition of danger signs</ion-label>
                  <ion-label position="floating" *ngIf="!danger" style="color:red !important"> Condition of danger signs
                  </ion-label>
                  <ion-input [(ngModel)]="appeal.danger"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="tenmeter">Danger signs displayed every 10 meters</ion-label>
                  <ion-label position="floating" *ngIf="!tenmeter" style="color:red !important"> Danger signs displayed
                    every 10 meters </ion-label>
                  <ion-input [(ngModel)]="appeal.tenmeter"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="signal">Fence signal transmitted to armed reaction</ion-label>
                  <ion-label position="floating" *ngIf="!signal" style="color:red !important"> Fence signal transmitted
                    to armed reaction </ion-label>
                  <ion-input [(ngModel)]="appeal.signal"></ion-input>
                </ion-item>


                <ion-item>
                  <ion-label position="floating" *ngIf="south">South Fence signal transmitted to armed reaction
                  </ion-label>
                  <ion-label position="floating" *ngIf="!south" style="color:red !important"> South Fence signal
                    transmitted to armed reaction </ion-label>
                  <ion-input [(ngModel)]="appeal.south"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="floating" *ngIf="mimic">Fence signal transmitted to guard room on Mimic Base
                  </ion-label>
                  <ion-label position="floating" *ngIf="!mimic" style="color:red !important"> Fence signal transmitted
                    to guard room on Mimic Base
                  </ion-label>
                  <ion-input [(ngModel)]="appeal.mimic"></ion-input>
                </ion-item>

                <img [src]="appeal.sigUser" style="display: block; margin-left: auto; margin-right: auto;" alt="">

                <ion-item lines="none">
                  <ion-button style="margin-left: auto; margin-right: auto;" (click)='openPOP("sigUser")'>Add Manager
                    Signature
                  </ion-button>
                </ion-item>

                <ion-row>
                  <ion-col class="ion-text-center">
                    <ion-item>
                      <ion-label *ngIf="sigUser" class="ion-text-center">Manager/ Supervisor Signature *</ion-label>
                      <ion-label *ngIf="!sigUser" class="ion-text-center" style="color:red !important">Manager/
                        Supervisor Signature *
                      </ion-label>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</ion-content>


<ion-footer>
  <ion-row>
    <ion-col class="ion-text-center">
      <ion-button style="--background: green;" (click)="check()">
        Submit
      </ion-button>
    </ion-col>
  </ion-row>
</ion-footer>