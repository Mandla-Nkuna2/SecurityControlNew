<ion-header>
  <ion-toolbar color="primary" mode="ios">
    <ion-buttons slot="start">
      <ion-button *ngIf="prevButton" (click)="prev()">Prev <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button *ngIf="exitButton" (click)="exit()">Exit <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Disciplinary Form</ion-title>
    <ion-buttons slot="end">
      <ion-button *ngIf="nxtButton" (click)="next()">Next <ion-icon name="arrow-forward" slot="icon-only">
        </ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content #content>
  <section class="common-img-bg">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="login-card card-block auth-body mr-auto ml-auto">
            <div class="md-float-material">
              <div class="auth-box">

                <ion-slides #slides pager="false" [options]="{autoScaleSlider: true}">

                  <ion-slide>

                    <ion-item>
                      <ion-label position="floating">Date</ion-label>
                      <ion-input type="text" [(ngModel)]="disciplinary.date" [readonly]="true">
                      </ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Time</ion-label>
                      <ion-input type="text" [(ngModel)]="disciplinary.time" [readonly]="true">
                      </ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Manager/ Supervisor</ion-label>
                      <ion-input [readonly]="view" type="text" [(ngModel)]="disciplinary.user" [readonly]="true">
                      </ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label *ngIf="placeValue" position="floating">Site *</ion-label>
                      <ion-label *ngIf="!placeValue" position="floating" style="color: red !important">Site *
                      </ion-label>
                      <ion-select interface="popover"*ngIf="!view && !saved" (click)="getSites(disciplinary)" [(ngModel)]="disciplinary.siteKey"
                        (ionChange)="getSiteDetails(disciplinary)">
                        <ion-select-option *ngFor="let site of sites | async" [value]=site.key>{{site.name}}
                        </ion-select-option>
                      </ion-select>
                      <ion-input *ngIf="view" [readonly]="true" type="text" [(ngModel)]="disciplinary.user"
                        [readonly]="true"></ion-input>
                      <ion-input *ngIf="saved" [readonly]="true" type="text" [(ngModel)]="disciplinary.user"
                        [readonly]="true"></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label *ngIf="soValue" position="floating">Name of Employee *</ion-label>
                      <ion-label *ngIf="!soValue" position="floating" style="color: red !important">Name of Employee *
                      </ion-label>
                      <ion-select interface="popover"*ngIf="!view" (ionChange)="guardDetails(disciplinary)"
                        [(ngModel)]="disciplinary.soKey">
                        <ion-select-option *ngFor="let guard of guards | async" [value]="guard.Key">{{guard.name}}
                        </ion-select-option>
                      </ion-select>
                      <ion-input *ngIf="view" [readonly]="true" type="text" [(ngModel)]="disciplinary.so"
                        [readonly]="true"></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label *ngIf="natureValue" position="floating">Nature of Transgression *</ion-label>
                      <ion-label *ngIf="!natureValue" position="floating" style="color: red !important">Nature of
                        Transgression *
                      </ion-label>
                      <ion-input [readonly]="view" type="text" [(ngModel)]="disciplinary.nature" autocomplete="true"
                        spellcheck="true">
                      </ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label *ngIf="typeValue" position="floating">Warning Type *</ion-label>
                      <ion-label *ngIf="!typeValue" position="floating" style="color: red !important">Warning Type *
                      </ion-label>
                      <ion-select interface="popover"*ngIf="!view" [(ngModel)]="disciplinary.type">
                        <ion-select-option>FIRST WARNING</ion-select-option>
                        <ion-select-option>SECOND WARNING</ion-select-option>
                        <ion-select-option>FINAL WARNING</ion-select-option>
                        <ion-select-option>NOTICE TO ATTEND DISCIPLINARY HEARING</ion-select-option>
                      </ion-select>
                      <ion-input *ngIf="view" [readonly]="true" type="text" [(ngModel)]="disciplinary.type"
                        [readonly]="true"></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label *ngIf="actionValue" position="floating">Disciplinary Action *</ion-label>
                      <ion-label *ngIf="!actionValue" position="floating" style="color: red !important">Disciplinary
                        Action *
                      </ion-label>
                      <ion-input [readonly]="view" type="text" [(ngModel)]="disciplinary.action" autocomplete="true"
                        spellcheck="true">
                      </ion-input>
                    </ion-item>

                  </ion-slide>

                  <ion-slide>

                    <p text-center>THE SIGNATURE OF THE EMPLOYEE SIGNIFIES THAT THE EMPLOYEE RECEIVED THE NOTICE OF THE
                      DISCIPLINARY
                      ACTION, WHETHER OR NOT THE EMPLOYEE AGREES WITH THE ACTION
                      <br>
                      <br> IF THE EMPLOYEE REFUSED TO SIGN, I AS THE MANAGER/ SUPERVISOR HEREBY SIGN ACKNOWLEDGEMENT
                      THAT THE CONTENTS
                      OF THIS DISCIPLINARY WERE EXPLAINED TO HIM/ HER.
                    </p>

                    <ion-item>
                      <ion-label position="floating">Witness</ion-label>
                      <ion-input [readonly]="view" type="text" [(ngModel)]="disciplinary.witness"></ion-input>
                    </ion-item>


                    <img [src]="disciplinary.empSig" style="display: block; margin-left: auto; margin-right: auto;"  alt="">

                    <ion-item lines="none">
                      <ion-button  style="margin-left: auto; margin-right: auto;" (click)='openPOP("empSig")'>Add Employee Signature
                      </ion-button>
                    </ion-item>

                    <ion-row>
                      <ion-col class="ion-text-center">
                        <ion-label *ngIf="sig1Value" class="ion-text-center">Employee Signature</ion-label>
                        <ion-label *ngIf="!sig1Value" class="ion-text-center" style="color:red !important">Employee
                          Signature
                        </ion-label>
                      </ion-col>
                    </ion-row>


                    <img [src]="disciplinary.witSig" style="display: block; margin-left: auto; margin-right: auto;"  alt="">

                    <ion-item lines="none">
                      <ion-button  style="margin-left: auto; margin-right: auto;" (click)='openPOP("witSig")'>Add Witness / Translater Signature
                      </ion-button>
                    </ion-item>

                    <ion-row>
                      <ion-col class="ion-text-center">
                        <ion-label *ngIf="sig2Value" class="ion-text-center">Witness/ Translater Signature</ion-label>
                        <ion-label *ngIf="!sig2Value" class="ion-text-center" style="color:red !important">Witness/
                          Translater Signature
                        </ion-label>
                      </ion-col>
                    </ion-row>


                    <img [src]="disciplinary.manSig" style="display: block; margin-left: auto; margin-right: auto;"  alt="">

                    <ion-item lines="none">
                      <ion-button  style="margin-left: auto; margin-right: auto;" (click)='openPOP("manSig")'>Add Manager Signature
                      </ion-button>
                    </ion-item>

                    <ion-row>
                      <ion-col class="ion-text-center">
                        <ion-label *ngIf="sig3Value" class="ion-text-center">Manager/ Supervisor Signature *
                        </ion-label>
                        <ion-label *ngIf="!sig3Value" class="ion-text-center" style="color:red !important">Manager/
                          Supervisor Signature *
                        </ion-label>
                      </ion-col>
                    </ion-row>
                 
                    <ion-item *ngIf="emailOption">
                      <ion-label *ngIf="emailValue" position="floating">Email Minutes to Client? *</ion-label>
                      <ion-label *ngIf="!emailValue" position="floating" style="color: red !important">Email Minutes to
                        Client? *
                      </ion-label>
                      <ion-select interface="popover"*ngIf="!view" [(ngModel)]="disciplinary.emailToClient">
                        <ion-select-option>Yes</ion-select-option>
                        <ion-select-option>No</ion-select-option>
                      </ion-select>
                      <ion-input *ngIf="view" [readonly]="true" type="text" [(ngModel)]="disciplinary.emailToClient"
                        [readonly]="true"></ion-input>
                    </ion-item>

                  </ion-slide>

                </ion-slides>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</ion-content>


<ion-footer>
  <ion-row>
    <ion-col class="ion-text-center">
      <ion-button style="--background: green;" (click)="check(disciplinary)">
      Submit
      </ion-button>
    </ion-col>
  </ion-row>
</ion-footer>